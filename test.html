<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CGS Circle Segment Area</title>
</head>
<body>
  <h2>Circle Segment Area Calculator</h2>

  <label>Radius: <input type="number" id="radius" step="any"></label><br>
  <label>Height: <input type="number" id="height" step="any"></label><br>
  <button id="calc">Calculate Area</button>

  <p id="result"></p>

  <script>
    // Temporary inline CgsTrig + CgsCircle patch logic (no external JSON)

    function queryAcos(x) {
      return Math.acos(x);
    }

    function querySin(x) {
      return Math.sin(x);
    }

    const CgsCircle = {
      segmentArea(radius, height) {
        const baseY = radius - height;
        const angle = queryAcos(baseY / radius);
        const sin = querySin(angle);
        const area = radius * radius * (angle - sin * Math.cos(angle)) / 2;
        return area;
      }
    };

    document.getElementById('calc').addEventListener('click', () => {
      const r = parseFloat(document.getElementById('radius').value);
      const h = parseFloat(document.getElementById('height').value);

      if (isNaN(r) || isNaN(h) || r <= 0 || h <= 0 || h > r * 2) {
        document.getElementById('result').textContent = "Invalid input.";
        return;
      }

      const area = CgsCircle.segmentArea(r, h);
      document.getElementById('result').textContent =
        `Segment Area ≈ ${area.toFixed(4)} units²`;
    });
  </script>
</body>
</html>
